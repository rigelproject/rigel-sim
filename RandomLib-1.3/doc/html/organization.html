<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>RandomLib: Code organization</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RandomLib</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Code organization </div>  </div>
</div>
<div class="contents">
<div class="textblock"><center> Back to <a class="el" href="start.html">Getting started</a>. Forward to <a class="el" href="seeds.html">The seed</a>. Up to <a class="el" href="index.html#contents">Contents</a>. </center><p>Random manipulates the data arrays, the seed and the state. These are managed by the following classes, which are all defined in the <a class="el" href="namespaceRandomLib.html" title="Namespace for RandomLib.">RandomLib</a> namespace:</p>
<ul>
<li>RandomSeed. This provides low-level facilities for changing and reporting the seed.</li>
</ul>
<ul>
<li>RandomEngine&lt;Algorithm, Mixer&gt;. This is derived from RandomSeed. This provides facilities for managing the state, returning the next random number, stepping the state, saving and restoring the state and the seed. It uses two classes specified as template parameters Algorithm and Mixer. These classes contain no state and are invoked through static methods.<ul>
<li>Algorithm. This provides a mechanism for producing the next batch of state given the current state. This is what most people understand by a random number algorithm. In addition, it provides a facility to convert an arbitrary state (as given by Mixer) into a legal state and to "temper" the state immediately prior to being returned by RandomEngine. This package provides definitions of the following Algorithms<ul>
<li>MT19937&lt;Random_u32&gt; -- 32-bit version of MT19937</li>
<li>MT19937&lt;Random_u64&gt; -- 64-bit version of MT19937</li>
<li>SFMT19937&lt;Random_u32&gt; -- 32-bit version of SFMT19937</li>
<li>SFMT19937&lt;Random_u64&gt; -- 64-bit version of SFMT19937</li>
</ul>
</li>
<li>Mixer. This converts the current seed into an initial state by some suitable mixing procedure. For more details see <a class="el" href="seeds.html">The seed</a>. This package provides the following definitions of the following Mixers:<ul>
<li>MixerMT0&lt;Random_u32&gt; -- init_by_array from 32-bit version of MT19937</li>
<li>MixerMT0&lt;Random_u64&gt; -- init_by_array from 64-bit version of MT19937</li>
<li>MixerMT1&lt;Random_u32&gt; -- improved version of MixerMT0&lt;Random_u32&gt;</li>
<li>MixerMT1&lt;Random_u64&gt; -- improved version of MixerMT0&lt;Random_u64&gt;</li>
<li>MixerSFMT -- init_by_array from SFMT19937</li>
</ul>
only MixerSFMT is recommended for production use.</li>
</ul>
</li>
</ul>
<ul>
<li>RandomGenerator is defined by <div class="fragment"><pre class="fragment">  <span class="keyword">typedef</span> RandomEngine&lt;SFMT19937&lt;Random_u32&gt;, MixerSFMT&gt; <a class="code" href="namespaceRandomLib.html#abbc990865dcebbdbf69fe157a137cdfb">RandomGenerator</a>;
</pre></div> This is the standard user interface for accessing the random number generator to provide random numbers in 32-bit and 64-bit chunks. See <a class="el" href="programming.html#switch">Selection of default generator</a> for how to access the MT19937 generator or the 64-bit versions of these generators.</li>
</ul>
<ul>
<li>RandomCanonical. This accepts a random generator as a template parameter and is a derived class of that generator. RandomCanonical converts the random bits from the underlying generator into usable data: integers in specific ranges, real numbers at various resolutions, etc.</li>
</ul>
<ul>
<li>Random is defined by <div class="fragment"><pre class="fragment">  <span class="keyword">typedef</span> RandomCanonical&lt;RandomGenerator&gt; <a class="code" href="namespaceRandomLib.html#a9fa363d3530b1c14370988abfc707231">Random</a>; 
</pre></div></li>
</ul>
<ul>
<li>RandomType is a utility template class which is used to couple a bit-width and an unsigned C++ type. The following typedefs are included <div class="fragment"><pre class="fragment">  <span class="keyword">typedef</span> RandomType&lt;32, uint32_t&gt; <a class="code" href="namespaceRandomLib.html#a6b0f072116b358e5f9d454145bfe0340">Random_u32</a>;
  <span class="keyword">typedef</span> RandomType&lt;64, uint64_t&gt; <a class="code" href="namespaceRandomLib.html#a976857a42f92b8bd60c76570f48d00a8">Random_u64</a>; 
</pre></div></li>
</ul>
<p>For most purposes, users should ignore the existence of RandomSeed, RandomEngine, RandomGenerator, and RandomCanonical and access all the capabilities of these classes via thru the class <a class="el" href="namespaceRandomLib.html#a9fa363d3530b1c14370988abfc707231">RandomLib::Random</a> which inherits all the needed functionality of its base classes. This documentation reflects this recommendation. (In restricted applications, a user might wish to interface to the library via the lower-level RandomGenerator class as a source of random words.)</p>
<p>Unfortunately the relation between this classes is sufficiently complicated to defeat doxygen's indexing capabilities; if you need to look up the definition of one of Random's member functions, you can refer to the brief index in <a class="el" href="function.html">Function index</a>.</p>
<p>Finally, distributions such as the normal and exponential distribution are provided by the classes NormalDistribution and ExponentialDistribution. They access the random data by being passed a Random object as an argument to operator().</p>
<p>Several errors in using RandomLib are caught at compile time. Runtime errors are signaled by throwing <a class="el" href="classRandomLib_1_1RandomErr.html" title="Exception handling for RandomLib.">RandomLib::RandomErr</a> exceptions with a explanatory message.</p>
<p>These routines have been developed and tested with g++ version 4.x under Linux 2.6.x on 32-bit and 64-bit Intel and 64-bit AMD CPUs, MS Visual Studio 2005 and 2008, under Windows. Earlier versions of this library were tested with g++ under Darwin on a PowerPC and under Solaris on 64-bit SPARC platforms. Porting to other platforms with a standard C++ compiler and template library should be straightforward provided that the radix for integer and real types is 2.</p>
<p>A note about portability. For the most part, the code uses standard C++. System dependencies creep into the computation of SeedVector and SeedWord (e.g., to access the PID and the high-precision clock). In addition, it's assumed that unsigned integers can be cast into signed integers preserving the bit pattern (assuming a twos-complement convention for signed numbers). Visual Studio 2005, 2008, 2010 compiling for a 32-bit machines have a bug in their standard template library implementations which prevent you from creating vectors of SFMT19937 generators if they are compiled with SSE2 instructions (via HAVE_SSE2); this prevents you from using, for example, a std::vector to hold such objects. To circumvent this bug you will need to create your own containers which call new and delete explicitly. (RandomLib includes new and new[] operators for SFMT19937 which return correctly aligned blocks of memory.) See <a class="el" href="RandomThread_8cpp.html" title="Example of parallelization with RandomLib using threads.">RandomThread.cpp</a> for an example of a simple fixed-size container.</p>
<p>Within the next few years C++0x will become available and it will provide random number generators with capabilities that overlap with RandomLib. At that point, I will look into modifying RandomLib so that it is compatible with the C++0x generators.</p>
<center> Back to <a class="el" href="start.html">Getting started</a>. Forward to <a class="el" href="seeds.html">The seed</a>. Up to <a class="el" href="index.html#contents">Contents</a>. </center> </div></div>
<hr class="footer"/><address class="footer"><small>Generated on Sat Jan 21 2012 for RandomLib by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
